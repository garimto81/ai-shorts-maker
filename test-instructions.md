# 🔍 이미지 분석 테스트 가이드

## 📋 준비 사항

### 1. API 키 설정
`.env` 파일을 열고 실제 Gemini API 키를 입력하세요:
```env
GEMINI_API_KEY=실제_API_키를_여기에_입력
```

### 2. 필수 디렉토리 확인
다음 디렉토리들이 생성되었는지 확인하세요:
- `output/` - 생성된 비디오 저장
- `storage/images/` - 압축된 이미지 저장  
- `temp/` - 임시 파일 저장

## 🚀 테스트 방법

### 방법 1: 웹 인터페이스 테스트 (추천)

1. **서버 실행**
```bash
cd E:\claude03\ai-shorts-maker
node server.js
```

2. **웹 테스트 페이지 열기**
```
http://localhost:3000/test-image-analysis.html
```

3. **기능 테스트**
- ✅ 시스템 상태 확인
- ✅ 이미지 드래그 & 드롭 업로드
- ✅ 테스트 URL 이미지 자동 추가
- ✅ 개별 이미지 분석 (한줄평)
- ✅ 전체 이미지 분석
- ✅ 실시간 결과 확인

### 방법 2: 명령줄 테스트

1. **기본 API 연결 테스트**
```bash
node test-api.js
```

2. **고급 분석 테스트**
```bash
node test-advanced-analysis.js
```

## 📊 예상 테스트 결과

### 성공적인 테스트 시 출력 예시:

#### 웹 인터페이스:
```
✅ 서버: 정상
✅ Gemini API: 설정됨
🖼️ 이미지 분석 결과: "빨간 원형 도형"
🖼️ 이미지 분석 결과: "파란 사각형 패턴"
🖼️ 이미지 분석 결과: "초록 삼각형 형태"
```

#### 명령줄:
```
✅ API 키 확인됨: AIzaSyD...
✅ 텍스트 생성 성공!
✅ 이미지 분석 성공!  
✅ 스크립트 생성 성공!
🎉 모든 테스트 통과! Gemini API가 정상 작동합니다.
```

## ⚠️ 문제 해결

### 1. API 키 오류
```
❌ GEMINI_API_KEY가 올바르게 설정되지 않았습니다.
```
**해결**: `.env` 파일에서 `your_gemini_api_key_here`를 실제 API 키로 변경

### 2. 서버 연결 실패
```
❌ 연결 실패: fetch failed
```
**해결**: `node server.js`로 서버가 실행 중인지 확인

### 3. 이미지 업로드 실패
```
❌ 파일 크기가 10MB를 초과합니다
```
**해결**: 10MB 이하 이미지 사용 또는 이미지 압축

### 4. API 할당량 초과
```
❌ Quota exceeded
```
**해결**: Google AI Studio에서 할당량 확인 또는 잠시 대기

## 💡 테스트 팁

### 1. 이미지 선택 가이드
- ✅ **좋은 예시**: 명확한 객체, 단순한 배경, 좋은 조명
- ❌ **나쁜 예시**: 복잡한 배경, 흐린 이미지, 너무 작은 객체

### 2. API 호출 최적화
- 개별 분석과 전체 분석 사이에 1-2초 간격 두기
- 한 번에 너무 많은 이미지 업로드하지 않기
- 무료 할당량 고려 (분당 15회 제한)

### 3. 결과 해석
- **한줄평**: 10-15글자 내외의 간단한 설명
- **종합 분석**: JSON 형태의 상세한 특징 분석
- **스크립트**: 10초 쇼츠용 구조화된 대본

## 📈 다음 단계

테스트가 성공하면:
1. **실제 제품 이미지로 테스트**
2. **영상 생성 기능 테스트** (`test-generate.js`)
3. **전체 워크플로우 테스트** (이미지 → 분석 → 스크립트 → 영상)

---

## 📞 지원

문제가 발생하면:
1. 콘솔 로그 확인
2. 브라우저 개발자 도구 Network 탭 확인
3. `test-results.json` 파일 확인 (명령줄 테스트 시)